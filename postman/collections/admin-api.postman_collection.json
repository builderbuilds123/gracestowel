{
  "info": {
    "_postman_id": "b55eafe2-a6cd-4058-982c-6ea3f0e061ca",
    "name": "Admin API",
    "description": "Medusa Admin API endpoints for administrative operations including products, orders, customers, and users management. These endpoints require authentication via JWT token.\n\n## Authentication\n\nAll requests in this collection require a valid JWT token. Set the `jwt_token` environment variable with your admin authentication token before making requests.\n\nTo obtain a JWT token:\n1. POST to /admin/auth with admin credentials\n2. Copy the token from the response\n3. Set it as the `jwt_token` environment variable\n\nThe collection automatically includes the Authorization header with Bearer token for all requests.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Load tv4 library for JSON schema validation",
          "if (typeof tv4 === 'undefined') {",
          "    pm.sendRequest({",
          "        url: 'https://cdn.jsdelivr.net/npm/tv4@1.2.7/tv4.min.js',",
          "        method: 'GET'",
          "    }, function (err, res) {",
          "        if (!err) {",
          "            eval(res.text());",
          "            pm.globals.set('tv4', tv4);",
          "        } else {",
          "            console.error('Failed to load tv4 library:', err);",
          "        }",
          "    });",
          "} else {",
          "    pm.globals.set('tv4', tv4);",
          "}",
          "",
          "// Validate required environment variables",
          "if (!pm.environment.get('base_url') && !pm.collectionVariables.get('base_url')) {",
          "    console.warn('Warning: base_url not set in environment or collection variables');",
          "}",
          "if (!pm.environment.get('jwt_token') && !pm.collectionVariables.get('jwt_token')) {",
          "    console.warn('Warning: jwt_token not set in environment or collection variables');",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Ensure tv4 is available for tests",
          "if (typeof tv4 === 'undefined' && pm.globals.get('tv4')) {",
          "    tv4 = pm.globals.get('tv4');",
          "}"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "Products",
      "item": [
        {
          "name": "List Products",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// JSON Schema for Admin Product List Response - Contract Test",
                  "// Validates: Requirements 4.1, 4.2",
                  "const adminProductListSchema = {",
                  "    type: 'object',",
                  "    required: ['products', 'count', 'offset', 'limit'],",
                  "    properties: {",
                  "        products: {",
                  "            type: 'array',",
                  "            items: {",
                  "                type: 'object',",
                  "                required: ['id', 'title', 'handle', 'status'],",
                  "                properties: {",
                  "                    id: { type: 'string' },",
                  "                    title: { type: 'string' },",
                  "                    subtitle: { type: ['string', 'null'] },",
                  "                    description: { type: ['string', 'null'] },",
                  "                    handle: { type: 'string' },",
                  "                    is_giftcard: { type: 'boolean' },",
                  "                    status: { type: 'string', enum: ['draft', 'proposed', 'published', 'rejected'] },",
                  "                    thumbnail: { type: ['string', 'null'] },",
                  "                    variants: {",
                  "                        type: 'array',",
                  "                        items: {",
                  "                            type: 'object',",
                  "                            required: ['id'],",
                  "                            properties: {",
                  "                                id: { type: 'string' },",
                  "                                title: { type: ['string', 'null'] },",
                  "                                sku: { type: ['string', 'null'] },",
                  "                                barcode: { type: ['string', 'null'] },",
                  "                                inventory_quantity: { type: 'number' },",
                  "                                manage_inventory: { type: 'boolean' },",
                  "                                prices: {",
                  "                                    type: 'array',",
                  "                                    items: {",
                  "                                        type: 'object',",
                  "                                        properties: {",
                  "                                            id: { type: 'string' },",
                  "                                            amount: { type: 'number' },",
                  "                                            currency_code: { type: 'string' }",
                  "                                        }",
                  "                                    }",
                  "                                }",
                  "                            }",
                  "                        }",
                  "                    },",
                  "                    options: {",
                  "                        type: 'array',",
                  "                        items: {",
                  "                            type: 'object',",
                  "                            properties: {",
                  "                                id: { type: 'string' },",
                  "                                title: { type: 'string' }",
                  "                            }",
                  "                        }",
                  "                    },",
                  "                    created_at: { type: 'string' },",
                  "                    updated_at: { type: 'string' }",
                  "                }",
                  "            }",
                  "        },",
                  "        count: { type: 'number' },",
                  "        offset: { type: 'number' },",
                  "        limit: { type: 'number' }",
                  "    }",
                  "};",
                  "",
                  "pm.test('Response status is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Contract Test: Admin product list response matches schema', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(tv4.validate(response, adminProductListSchema)).to.be.true;",
                  "    if (!tv4.validate(response, adminProductListSchema)) {",
                  "        console.log('Schema validation error:', tv4.error);",
                  "    }",
                  "});",
                  "",
                  "pm.test('Contract Test: Products have required admin fields', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.products).to.be.an('array');",
                  "    if (response.products.length > 0) {",
                  "        const product = response.products[0];",
                  "        pm.expect(product).to.have.property('id');",
                  "        pm.expect(product).to.have.property('title');",
                  "        pm.expect(product).to.have.property('handle');",
                  "        pm.expect(product).to.have.property('status');",
                  "    }",
                  "});",
                  "",
                  "pm.test('Contract Test: Product status is valid enum value', function () {",
                  "    const response = pm.response.json();",
                  "    const validStatuses = ['draft', 'proposed', 'published', 'rejected'];",
                  "    response.products.forEach(function(product) {",
                  "        pm.expect(validStatuses).to.include(product.status);",
                  "    });",
                  "});"
                ]
              }
            }
          ],
          "id": "6ad4d38f-4a2e-42c1-aaa8-552597eea1ff",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/products",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "products"
              ]
            }
          },
          "response": [
            {
              "id": "cfd259da-389f-4445-82d3-a3fee2bfb99c",
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/admin/products",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "admin",
                    "products"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": null,
              "cookie": [],
              "responseTime": null,
              "body": "{\n  \"products\": [\n    {\n      \"id\": \"prod_01EXAMPLE\",\n      \"title\": \"Grace Stowel Premium Towel\",\n      \"subtitle\": null,\n      \"description\": \"A luxurious premium towel with superior absorbency\",\n      \"handle\": \"grace-stowel-premium-towel\",\n      \"is_giftcard\": false,\n      \"status\": \"published\",\n      \"thumbnail\": \"https://example.com/thumbnail.jpg\",\n      \"variants\": [\n        {\n          \"id\": \"variant_01EXAMPLE\",\n          \"title\": \"White / Large\",\n          \"sku\": \"TOWEL-WHT-LG\",\n          \"barcode\": null,\n          \"ean\": null,\n          \"upc\": null,\n          \"inventory_quantity\": 100,\n          \"manage_inventory\": true,\n          \"prices\": [\n            {\n              \"id\": \"price_01EXAMPLE\",\n              \"amount\": 2999,\n              \"currency_code\": \"usd\"\n            }\n          ]\n        }\n      ],\n      \"options\": [\n        {\n          \"id\": \"opt_01EXAMPLE\",\n          \"title\": \"Color\"\n        },\n        {\n          \"id\": \"opt_02EXAMPLE\",\n          \"title\": \"Size\"\n        }\n      ],\n      \"created_at\": \"2024-01-01T00:00:00.000Z\",\n      \"updated_at\": \"2024-01-01T00:00:00.000Z\"\n    }\n  ],\n  \"count\": 1,\n  \"offset\": 0,\n  \"limit\": 20\n}"
            }
          ]
        },
        {
          "name": "Create Product",
          "id": "8453c625-75f1-4094-8ca4-2f47585480bd",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// JSON Schema for Create Product Response - Contract Test",
                  "const createProductSchema = {",
                  "    type: 'object',",
                  "    required: ['product'],",
                  "    properties: {",
                  "        product: {",
                  "            type: 'object',",
                  "            required: ['id', 'title', 'handle', 'status'],",
                  "            properties: {",
                  "                id: { type: 'string' },",
                  "                title: { type: 'string' },",
                  "                subtitle: { type: ['string', 'null'] },",
                  "                description: { type: ['string', 'null'] },",
                  "                handle: { type: 'string' },",
                  "                is_giftcard: { type: 'boolean' },",
                  "                status: {",
                  "                    type: 'string',",
                  "                    enum: ['draft', 'proposed', 'published', 'rejected']",
                  "                },",
                  "                thumbnail: { type: ['string', 'null'] },",
                  "                variants: {",
                  "                    type: 'array',",
                  "                    items: {",
                  "                        type: 'object',",
                  "                        required: ['id'],",
                  "                        properties: {",
                  "                            id: { type: 'string' },",
                  "                            title: { type: ['string', 'null'] },",
                  "                            sku: { type: ['string', 'null'] },",
                  "                            inventory_quantity: { type: 'number' },",
                  "                            prices: {",
                  "                                type: 'array',",
                  "                                items: {",
                  "                                    type: 'object',",
                  "                                    properties: {",
                  "                                        amount: { type: 'number' },",
                  "                                        currency_code: { type: 'string' }",
                  "                                    }",
                  "                                }",
                  "                            }",
                  "                        }",
                  "                    }",
                  "                },",
                  "                created_at: { type: 'string' },",
                  "                updated_at: { type: 'string' }",
                  "            }",
                  "        }",
                  "    }",
                  "};",
                  "",
                  "pm.test('Response status is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Contract Test: Create product response matches schema', function () {",
                  "    const response = pm.response.json();",
                  "    if (typeof tv4 !== 'undefined') {",
                  "        pm.expect(tv4.validate(response, createProductSchema)).to.be.true;",
                  "        if (!tv4.validate(response, createProductSchema)) {",
                  "            console.log('Schema validation error:', tv4.error);",
                  "        }",
                  "    } else {",
                  "        pm.expect(response).to.have.property('product');",
                  "        pm.expect(response.product).to.have.property('id');",
                  "        pm.expect(response.product).to.have.property('title');",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"New Premium Towel\",\n  \"description\": \"A new luxurious towel product\",\n  \"handle\": \"new-premium-towel\",\n  \"status\": \"draft\",\n  \"options\": [\n    {\n      \"title\": \"Color\"\n    },\n    {\n      \"title\": \"Size\"\n    }\n  ],\n  \"variants\": [\n    {\n      \"title\": \"White / Medium\",\n      \"sku\": \"TOWEL-WHT-MD\",\n      \"inventory_quantity\": 50,\n      \"prices\": [\n        {\n          \"amount\": 2499,\n          \"currency_code\": \"usd\"\n        }\n      ],\n      \"options\": [\n        {\n          \"value\": \"White\"\n        },\n        {\n          \"value\": \"Medium\"\n        }\n      ]\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/products",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "products"
              ]
            }
          },
          "response": [
            {
              "id": "16b5a166-a1a0-4ea8-ae87-e11ee6a377b7",
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"title\": \"New Premium Towel\",\n  \"description\": \"A new luxurious towel product\",\n  \"handle\": \"new-premium-towel\",\n  \"status\": \"draft\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/admin/products",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "admin",
                    "products"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": null,
              "cookie": [],
              "responseTime": null,
              "body": "{\n  \"product\": {\n    \"id\": \"prod_02NEWPROD\",\n    \"title\": \"New Premium Towel\",\n    \"description\": \"A new luxurious towel product\",\n    \"handle\": \"new-premium-towel\",\n    \"status\": \"draft\",\n    \"variants\": [\n      {\n        \"id\": \"variant_02NEWVAR\",\n        \"title\": \"White / Medium\",\n        \"sku\": \"TOWEL-WHT-MD\",\n        \"inventory_quantity\": 50,\n        \"prices\": [\n          {\n            \"amount\": 2499,\n            \"currency_code\": \"usd\"\n          }\n        ]\n      }\n    ],\n    \"created_at\": \"2024-01-15T00:00:00.000Z\",\n    \"updated_at\": \"2024-01-15T00:00:00.000Z\"\n  }\n}"
            }
          ]
        }
      ],
      "id": "ecf641f1-a9f0-4cdd-9833-7fb7dd7509ce",
      "description": "Product management endpoints for creating, updating, and listing products in the admin panel"
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "List Orders",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// JSON Schema for Admin Orders List Response - Contract Test",
                  "// Validates: Requirements 4.1, 4.2",
                  "const adminOrdersListSchema = {",
                  "    type: 'object',",
                  "    required: ['orders', 'count', 'offset', 'limit'],",
                  "    properties: {",
                  "        orders: {",
                  "            type: 'array',",
                  "            items: {",
                  "                type: 'object',",
                  "                required: ['id', 'status', 'fulfillment_status', 'payment_status'],",
                  "                properties: {",
                  "                    id: { type: 'string' },",
                  "                    display_id: { type: 'number' },",
                  "                    status: { type: 'string' },",
                  "                    fulfillment_status: { type: 'string' },",
                  "                    payment_status: { type: 'string' },",
                  "                    email: { type: ['string', 'null'] },",
                  "                    customer_id: { type: ['string', 'null'] },",
                  "                    shipping_address: {",
                  "                        type: ['object', 'null'],",
                  "                        properties: {",
                  "                            first_name: { type: 'string' },",
                  "                            last_name: { type: 'string' },",
                  "                            address_1: { type: 'string' },",
                  "                            city: { type: 'string' },",
                  "                            province: { type: ['string', 'null'] },",
                  "                            postal_code: { type: 'string' },",
                  "                            country_code: { type: 'string' }",
                  "                        }",
                  "                    },",
                  "                    items: {",
                  "                        type: 'array',",
                  "                        items: {",
                  "                            type: 'object',",
                  "                            required: ['id', 'quantity'],",
                  "                            properties: {",
                  "                                id: { type: 'string' },",
                  "                                title: { type: 'string' },",
                  "                                variant_id: { type: ['string', 'null'] },",
                  "                                quantity: { type: 'number' },",
                  "                                unit_price: { type: 'number' },",
                  "                                subtotal: { type: 'number' }",
                  "                            }",
                  "                        }",
                  "                    },",
                  "                    subtotal: { type: 'number' },",
                  "                    shipping_total: { type: ['number', 'null'] },",
                  "                    tax_total: { type: ['number', 'null'] },",
                  "                    total: { type: 'number' },",
                  "                    currency_code: { type: 'string' },",
                  "                    created_at: { type: 'string' },",
                  "                    updated_at: { type: 'string' }",
                  "                }",
                  "            }",
                  "        },",
                  "        count: { type: 'number' },",
                  "        offset: { type: 'number' },",
                  "        limit: { type: 'number' }",
                  "    }",
                  "};",
                  "",
                  "pm.test('Response status is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Contract Test: Admin orders list response matches schema', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(tv4.validate(response, adminOrdersListSchema)).to.be.true;",
                  "    if (!tv4.validate(response, adminOrdersListSchema)) {",
                  "        console.log('Schema validation error:', tv4.error);",
                  "    }",
                  "});",
                  "",
                  "pm.test('Contract Test: Orders have required status fields', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.orders).to.be.an('array');",
                  "    if (response.orders.length > 0) {",
                  "        const order = response.orders[0];",
                  "        pm.expect(order).to.have.property('id');",
                  "        pm.expect(order).to.have.property('status');",
                  "        pm.expect(order).to.have.property('fulfillment_status');",
                  "        pm.expect(order).to.have.property('payment_status');",
                  "    }",
                  "});",
                  "",
                  "pm.test('Contract Test: Order totals are valid numbers', function () {",
                  "    const response = pm.response.json();",
                  "    response.orders.forEach(function(order) {",
                  "        pm.expect(order.subtotal).to.be.a('number');",
                  "        pm.expect(order.total).to.be.a('number');",
                  "        pm.expect(order.subtotal).to.be.at.least(0);",
                  "        pm.expect(order.total).to.be.at.least(0);",
                  "    });",
                  "});",
                  "",
                  "pm.test('Contract Test: Order items have valid structure', function () {",
                  "    const response = pm.response.json();",
                  "    response.orders.forEach(function(order) {",
                  "        pm.expect(order.items).to.be.an('array');",
                  "        order.items.forEach(function(item) {",
                  "            pm.expect(item).to.have.property('id');",
                  "            pm.expect(item).to.have.property('quantity');",
                  "            pm.expect(item.quantity).to.be.a('number');",
                  "            pm.expect(item.quantity).to.be.at.least(1);",
                  "        });",
                  "    });",
                  "});"
                ]
              }
            }
          ],
          "id": "448cc210-fabb-4e98-bbab-d47b9bcce550",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/orders",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "orders"
              ]
            }
          },
          "response": [
            {
              "id": "82f63f5c-148c-4188-be57-84770cc15e97",
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/admin/orders",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "admin",
                    "orders"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": null,
              "cookie": [],
              "responseTime": null,
              "body": "{\n  \"orders\": [\n    {\n      \"id\": \"order_01EXAMPLE\",\n      \"display_id\": 1001,\n      \"status\": \"pending\",\n      \"fulfillment_status\": \"not_fulfilled\",\n      \"payment_status\": \"captured\",\n      \"email\": \"customer@example.com\",\n      \"customer_id\": \"cus_01EXAMPLE\",\n      \"shipping_address\": {\n        \"first_name\": \"John\",\n        \"last_name\": \"Doe\",\n        \"address_1\": \"123 Main St\",\n        \"city\": \"New York\",\n        \"province\": \"NY\",\n        \"postal_code\": \"10001\",\n        \"country_code\": \"us\"\n      },\n      \"items\": [\n        {\n          \"id\": \"item_01EXAMPLE\",\n          \"title\": \"Grace Stowel Premium Towel\",\n          \"variant_id\": \"variant_01EXAMPLE\",\n          \"quantity\": 2,\n          \"unit_price\": 2999,\n          \"subtotal\": 5998\n        }\n      ],\n      \"subtotal\": 5998,\n      \"shipping_total\": 500,\n      \"tax_total\": 540,\n      \"total\": 7038,\n      \"currency_code\": \"usd\",\n      \"created_at\": \"2024-01-10T00:00:00.000Z\",\n      \"updated_at\": \"2024-01-10T00:00:00.000Z\"\n    }\n  ],\n  \"count\": 1,\n  \"offset\": 0,\n  \"limit\": 20\n}"
            }
          ]
        }
      ],
      "id": "e136a15b-3aba-4716-8720-395435764d92",
      "description": "Order management endpoints for viewing and managing customer orders"
    },
    {
      "name": "Customers",
      "item": [
        {
          "name": "List Customers",
          "id": "e48fa757-abe8-4e33-afc3-4e5a6ab68d72",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// JSON Schema for Customers List Response - Contract Test",
                  "const customersListSchema = {",
                  "    type: 'object',",
                  "    required: ['customers', 'count', 'offset', 'limit'],",
                  "    properties: {",
                  "        customers: {",
                  "            type: 'array',",
                  "            items: {",
                  "                type: 'object',",
                  "                required: ['id'],",
                  "                properties: {",
                  "                    id: { type: 'string' },",
                  "                    email: { type: ['string', 'null'] },",
                  "                    first_name: { type: ['string', 'null'] },",
                  "                    last_name: { type: ['string', 'null'] },",
                  "                    phone: { type: ['string', 'null'] },",
                  "                    has_account: { type: 'boolean' },",
                  "                    orders: {",
                  "                        type: 'array',",
                  "                        items: { type: 'object' }",
                  "                    },",
                  "                    groups: {",
                  "                        type: 'array',",
                  "                        items: { type: 'object' }",
                  "                    },",
                  "                    metadata: { type: 'object' },",
                  "                    created_at: { type: 'string' },",
                  "                    updated_at: { type: 'string' }",
                  "                }",
                  "            }",
                  "        },",
                  "        count: { type: 'number' },",
                  "        offset: { type: 'number' },",
                  "        limit: { type: 'number' }",
                  "    }",
                  "};",
                  "",
                  "pm.test('Response status is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Contract Test: Customers list response matches schema', function () {",
                  "    const response = pm.response.json();",
                  "    if (typeof tv4 !== 'undefined') {",
                  "        pm.expect(tv4.validate(response, customersListSchema)).to.be.true;",
                  "        if (!tv4.validate(response, customersListSchema)) {",
                  "            console.log('Schema validation error:', tv4.error);",
                  "        }",
                  "    } else {",
                  "        pm.expect(response).to.have.property('customers');",
                  "        pm.expect(response.customers).to.be.an('array');",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/customers",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "customers"
              ]
            }
          },
          "response": [
            {
              "id": "9e0111ed-bd4b-4e8f-afbb-d5f6a146cb7a",
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/admin/customers",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "admin",
                    "customers"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": null,
              "cookie": [],
              "responseTime": null,
              "body": "{\n  \"customers\": [\n    {\n      \"id\": \"cus_01EXAMPLE\",\n      \"email\": \"customer@example.com\",\n      \"first_name\": \"John\",\n      \"last_name\": \"Doe\",\n      \"phone\": \"+1-555-123-4567\",\n      \"has_account\": true,\n      \"orders\": [],\n      \"groups\": [],\n      \"metadata\": {},\n      \"created_at\": \"2024-01-01T00:00:00.000Z\",\n      \"updated_at\": \"2024-01-01T00:00:00.000Z\"\n    },\n    {\n      \"id\": \"cus_02EXAMPLE\",\n      \"email\": \"jane.smith@example.com\",\n      \"first_name\": \"Jane\",\n      \"last_name\": \"Smith\",\n      \"phone\": \"+1-555-987-6543\",\n      \"has_account\": true,\n      \"orders\": [],\n      \"groups\": [],\n      \"metadata\": {},\n      \"created_at\": \"2024-01-05T00:00:00.000Z\",\n      \"updated_at\": \"2024-01-05T00:00:00.000Z\"\n    }\n  ],\n  \"count\": 2,\n  \"offset\": 0,\n  \"limit\": 20\n}"
            }
          ]
        }
      ],
      "id": "b07be0b0-b34a-4bae-8bf2-5357732bc4be",
      "description": "Customer management endpoints for viewing and managing customer accounts"
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "List Users",
          "id": "ccdd1852-c579-4690-acb8-a3a84597fdc0",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// JSON Schema for Users List Response - Contract Test",
                  "const usersListSchema = {",
                  "    type: 'object',",
                  "    required: ['users', 'count', 'offset', 'limit'],",
                  "    properties: {",
                  "        users: {",
                  "            type: 'array',",
                  "            items: {",
                  "                type: 'object',",
                  "                required: ['id', 'email'],",
                  "                properties: {",
                  "                    id: { type: 'string' },",
                  "                    email: { type: 'string' },",
                  "                    first_name: { type: ['string', 'null'] },",
                  "                    last_name: { type: ['string', 'null'] },",
                  "                    role: {",
                  "                        type: 'string',",
                  "                        enum: ['admin', 'member', 'developer']",
                  "                    },",
                  "                    created_at: { type: 'string' },",
                  "                    updated_at: { type: 'string' }",
                  "                }",
                  "            }",
                  "        },",
                  "        count: { type: 'number' },",
                  "        offset: { type: 'number' },",
                  "        limit: { type: 'number' }",
                  "    }",
                  "};",
                  "",
                  "pm.test('Response status is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Contract Test: Users list response matches schema', function () {",
                  "    const response = pm.response.json();",
                  "    if (typeof tv4 !== 'undefined') {",
                  "        pm.expect(tv4.validate(response, usersListSchema)).to.be.true;",
                  "        if (!tv4.validate(response, usersListSchema)) {",
                  "            console.log('Schema validation error:', tv4.error);",
                  "        }",
                  "    } else {",
                  "        pm.expect(response).to.have.property('users');",
                  "        pm.expect(response.users).to.be.an('array');",
                  "    }",
                  "});",
                  "",
                  "pm.test('Contract Test: User role is valid enum value', function () {",
                  "    const response = pm.response.json();",
                  "    const validRoles = ['admin', 'member', 'developer'];",
                  "    response.users.forEach(function(user) {",
                  "        if (user.role) {",
                  "            pm.expect(validRoles).to.include(user.role);",
                  "        }",
                  "    });",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/users",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "users"
              ]
            }
          },
          "response": [
            {
              "id": "2655f29a-dafe-4e81-8b67-3d4dee1138e7",
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/admin/users",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "admin",
                    "users"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": null,
              "cookie": [],
              "responseTime": null,
              "body": "{\n  \"users\": [\n    {\n      \"id\": \"usr_01ADMIN\",\n      \"email\": \"admin@gracestowel.com\",\n      \"first_name\": \"Admin\",\n      \"last_name\": \"User\",\n      \"role\": \"admin\",\n      \"created_at\": \"2024-01-01T00:00:00.000Z\",\n      \"updated_at\": \"2024-01-01T00:00:00.000Z\"\n    },\n    {\n      \"id\": \"usr_02MEMBER\",\n      \"email\": \"staff@gracestowel.com\",\n      \"first_name\": \"Staff\",\n      \"last_name\": \"Member\",\n      \"role\": \"member\",\n      \"created_at\": \"2024-01-02T00:00:00.000Z\",\n      \"updated_at\": \"2024-01-02T00:00:00.000Z\"\n    }\n  ],\n  \"count\": 2,\n  \"offset\": 0,\n  \"limit\": 20\n}"
            }
          ]
        },
        {
          "name": "Create User",
          "id": "9dd5251f-c269-4942-bd29-e59b5fa8b356",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// JSON Schema for Create User Response - Contract Test",
                  "const createUserSchema = {",
                  "    type: 'object',",
                  "    required: ['user'],",
                  "    properties: {",
                  "        user: {",
                  "            type: 'object',",
                  "            required: ['id', 'email'],",
                  "            properties: {",
                  "                id: { type: 'string' },",
                  "                email: { type: 'string' },",
                  "                first_name: { type: ['string', 'null'] },",
                  "                last_name: { type: ['string', 'null'] },",
                  "                role: {",
                  "                    type: 'string',",
                  "                    enum: ['admin', 'member', 'developer']",
                  "                },",
                  "                created_at: { type: 'string' },",
                  "                updated_at: { type: 'string' }",
                  "            }",
                  "        }",
                  "    }",
                  "};",
                  "",
                  "pm.test('Response status is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Contract Test: Create user response matches schema', function () {",
                  "    const response = pm.response.json();",
                  "    if (typeof tv4 !== 'undefined') {",
                  "        pm.expect(tv4.validate(response, createUserSchema)).to.be.true;",
                  "        if (!tv4.validate(response, createUserSchema)) {",
                  "            console.log('Schema validation error:', tv4.error);",
                  "        }",
                  "    } else {",
                  "        pm.expect(response).to.have.property('user');",
                  "        pm.expect(response.user).to.have.property('id');",
                  "        pm.expect(response.user).to.have.property('email');",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"newadmin@gracestowel.com\",\n  \"password\": \"securePassword123!\",\n  \"first_name\": \"New\",\n  \"last_name\": \"Admin\",\n  \"role\": \"member\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/admin/users",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "users"
              ]
            }
          },
          "response": [
            {
              "id": "41b73b9a-0afd-484e-9622-8ebd352d9646",
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"newadmin@gracestowel.com\",\n  \"password\": \"securePassword123!\",\n  \"first_name\": \"New\",\n  \"last_name\": \"Admin\",\n  \"role\": \"member\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/admin/users",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "admin",
                    "users"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": null,
              "cookie": [],
              "responseTime": null,
              "body": "{\n  \"user\": {\n    \"id\": \"usr_03NEWUSR\",\n    \"email\": \"newadmin@gracestowel.com\",\n    \"first_name\": \"New\",\n    \"last_name\": \"Admin\",\n    \"role\": \"member\",\n    \"created_at\": \"2024-01-15T00:00:00.000Z\",\n    \"updated_at\": \"2024-01-15T00:00:00.000Z\"\n  }\n}"
            }
          ]
        }
      ],
      "id": "8d487907-bf87-4d8b-a361-d12d985f2c70",
      "description": "Admin user management endpoints for creating and managing admin accounts"
    },
    {
      "name": "Reviews",
      "item": [
        {
          "name": "List Reviews",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "// JSON Schema for Admin Reviews List Response - Contract Test",
                  "const adminReviewsListSchema = {",
                  "    type: 'object',",
                  "    required: ['reviews', 'count', 'offset', 'limit'],",
                  "    properties: {",
                  "        reviews: {",
                  "            type: 'array',",
                  "            items: {",
                  "                type: 'object',",
                  "                required: ['id', 'rating', 'status'],",
                  "                properties: {",
                  "                    id: { type: 'string' },",
                  "                    product_id: { type: 'string' },",
                  "                    customer_id: { type: ['string', 'null'] },",
                  "                    customer_name: { type: 'string' },",
                  "                    rating: {",
                  "                        type: 'number',",
                  "                        minimum: 1,",
                  "                        maximum: 5",
                  "                    },",
                  "                    title: { type: ['string', 'null'] },",
                  "                    content: { type: ['string', 'null'] },",
                  "                    status: {",
                  "                        type: 'string',",
                  "                        enum: ['pending', 'approved', 'rejected']",
                  "                    },",
                  "                    verified_purchase: { type: 'boolean' },",
                  "                    helpful_count: { type: 'number' },",
                  "                    created_at: { type: 'string' },",
                  "                    updated_at: { type: 'string' }",
                  "                }",
                  "            }",
                  "        },",
                  "        count: { type: 'number' },",
                  "        offset: { type: 'number' },",
                  "        limit: { type: 'number' }",
                  "    }",
                  "};",
                  "",
                  "pm.test('Response status is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Contract Test: Admin reviews list response matches schema', function () {",
                  "    const response = pm.response.json();",
                  "    if (typeof tv4 !== 'undefined') {",
                  "        pm.expect(tv4.validate(response, adminReviewsListSchema)).to.be.true;",
                  "        if (!tv4.validate(response, adminReviewsListSchema)) {",
                  "            console.log('Schema validation error:', tv4.error);",
                  "        }",
                  "    } else {",
                  "        pm.expect(response).to.have.property('reviews');",
                  "        pm.expect(response.reviews).to.be.an('array');",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "id": "admin-reviews-list",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/reviews?limit=20&offset=0&status=pending",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "reviews"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "20",
                  "description": "Number of reviews per page"
                },
                {
                  "key": "offset",
                  "value": "0",
                  "description": "Pagination offset"
                },
                {
                  "key": "status",
                  "value": "pending",
                  "description": "Filter by status: pending, approved, rejected"
                },
                {
                  "key": "product_id",
                  "value": "",
                  "description": "Filter by product ID",
                  "disabled": true
                }
              ]
            },
            "description": "List all reviews with optional filters for status and product_id"
          },
          "response": []
        },
        {
          "name": "Get Review by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response status is 200 or 404', function () {",
                  "    pm.expect([200, 404]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test('Contract Test: Get review response structure', function () {",
                  "    if (pm.response.code === 200) {",
                  "        const response = pm.response.json();",
                  "        pm.expect(response).to.have.property('review');",
                  "        pm.expect(response.review).to.have.property('id');",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "id": "admin-reviews-get",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/reviews/{{review_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "reviews",
                "{{review_id}}"
              ]
            },
            "description": "Get a single review by ID"
          },
          "response": []
        },
        {
          "name": "Update Review",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response status is 200 or 404', function () {",
                  "    pm.expect([200, 404]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test('Contract Test: Update review response structure', function () {",
                  "    if (pm.response.code === 200) {",
                  "        const response = pm.response.json();",
                  "        pm.expect(response).to.have.property('review');",
                  "        pm.expect(response).to.have.property('message');",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "id": "admin-reviews-update",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"approved\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/reviews/{{review_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "reviews",
                "{{review_id}}"
              ]
            },
            "description": "Update a review (approve, reject, or update fields). Status can be: pending, approved, rejected"
          },
          "response": []
        },
        {
          "name": "Delete Review",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response status is 200 or 404', function () {",
                  "    pm.expect([200, 404]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test('Contract Test: Delete review response structure', function () {",
                  "    if (pm.response.code === 200) {",
                  "        const response = pm.response.json();",
                  "        pm.expect(response).to.have.property('message');",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "id": "admin-reviews-delete",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/reviews/{{review_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "reviews",
                "{{review_id}}"
              ]
            },
            "description": "Delete a review permanently"
          },
          "response": []
        },
        {
          "name": "Batch Update Reviews",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response status is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Contract Test: Batch update response structure', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.have.property('updated');",
                  "    pm.expect(response.updated).to.be.a('number');",
                  "});"
                ]
              }
            }
          ],
          "id": "admin-reviews-batch",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"review_ids\": [\"{{review_id}}\"],\n  \"status\": \"approved\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/reviews/batch",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "reviews",
                "batch"
              ]
            },
            "description": "Batch update multiple reviews (e.g., approve/reject multiple reviews at once)"
          },
          "response": []
        }
      ],
      "id": "admin-reviews-section",
      "description": "Admin review management endpoints for moderating product reviews"
    },
    {
      "name": "Stripe Queue",
      "item": [
        {
          "name": "Get Stripe Queue Status",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Response status is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Contract Test: Queue status response structure', function () {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.have.property('status');",
                  "});"
                ]
              }
            }
          ],
          "id": "admin-stripe-queue-status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/admin/stripe-queue-status",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "stripe-queue-status"
              ]
            },
            "description": "Get status of Stripe webhook event processing queue"
          },
          "response": []
        }
      ],
      "id": "admin-stripe-queue-section",
      "description": "Stripe queue monitoring endpoints"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "id": "3a4e9783-25ac-43e9-ac85-01d454fc781a",
      "key": "base_url",
      "value": "http://localhost:9000",
      "type": "string"
    },
    {
      "id": "7f31b602-f97f-40df-8c18-b69dbb9c7533",
      "key": "jwt_token",
      "value": "",
      "type": "string"
    }
  ]
}